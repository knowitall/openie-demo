@(searchForm: Form[Query], query: Query, groups: Iterable[Group], pageno: Int, pageCount: Int)

@import helper.twitterBootstrap._
@import edu.washington.cs.knowitall.browser.extraction.ExtractionGroup

@main("UW Open Information Extraction") {
  <style>
    .sent:link, .sent:hover, .sent:visited, .sent:active { 
      cursor: pointer;
      text-decoration: none;
      color: black
    }
    .hid { display: none }
  </style>

  <div class="container">
      <div class="page-header">
          <h1><img src="assets/images/textrunner.jpg"> UW Open Information Extraction</h1>
      </div>

      @helper.form(action = routes.Application.submit, 'class -> "well form-inline") {
          <label for="arg1">Argument 1:</label>
          <span class="input">
              <input type="text" id="arg1" name="arg1" value="@query.arg1" >
              <span class="help-inline"></span>
          </span>
          <label for="rel">Relation:</label>
          <span class="input">
              <input type="text" id="rel" name="rel" value="@query.rel" >
              <span class="help-inline"></span>
          </span>
          <label for="arg2">Argument 2:</label>
          <span class="input">
              <input type="text" id="arg2" name="arg2" value="@query.arg2" >
              <span class="help-inline"></span>
          </span>
          <button class="btn primary"><i class="icon-search"></i> Search</button>
      }

<!--
      <b>Types:</b> 
      <div class="btn-group" data-toggle="buttons-checkbox">
          <button class="btn">Chemicsals</button>
          <button class="btn">Products</button>
          <button class="btn">Elements</button>
          <button class="btn">Other</button>
      </div>
-->

      <div style="height: 25px"></div>

      <div class="tabbable tabs-left">
        <ul class="nav nav-tabs">
          @for((g, i) <- groups.zipWithIndex) {
          <li@if(i==0){ class="active"}else{}><a href="#L@{i}" data-toggle="tab">@g.title <span class="badge badge-info">@g.contents.size</span></a></li>
          }
        </ul>
        <div class="tab-content">
          @for((g, i) <- groups.zipWithIndex) {
          <div class="tab-pane@if(i==0){ active}else{}" id="L@{i}">
            @for(c <- g.contents) {
            <p><a class="sent" title="@c.url" href="@c.url">
              @for((string, i) <- c.strings.zipWithIndex) {
                @if(c.intervals.exists(_.start==i)) { <b> }
                @if(c.intervals.exists(_.end==i)) { </b> }
                @string
              }
              @if(c.intervals.exists(_.end==c.strings.size)) { </b> }
            </a></p>
            }
          </div>
          }
        </div>

        <!-- Pagination -->
        <div class="pagination" align="center">
            <ul>
@if(pageno > 0) {
                <li><a href="@{routes.Application.search(query.arg1, query.rel, query.arg2, pageno - 1)}">Prev</a></li>
}
@for(i <- pageno-4 to pageno-1; if i >= 0) {
                <li><a href="@{routes.Application.search(query.arg1, query.rel, query.arg2, i)}">@i</a></li>
}
                <li class="active">
                <a href="#">@pageno</a>
                </li>
@for(i <- pageno+1 to pageno+4; if i < pageCount) {
                <li><a href="@{routes.Application.search(query.arg1, query.rel, query.arg2, i)}">@i</a></li>
}
@if(pageno + 1 < pageCount) {
                <li><a href="@{routes.Application.search(query.arg1, query.rel, query.arg2, pageno + 1)}">Next</a></li>
}
            </ul>
        </div>
      </div> <!-- /tabbable -->
}
