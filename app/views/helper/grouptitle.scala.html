@(title: GroupTitle)

@Html(title.parts.map(part=>part.entity match {
  case Some(entity) => <span id={entity.fbid} class="title-entity" rel="popover" title={part.text} data-content={"Types:<blockquote>"+part.types.toSeq.sortBy(_.name).iterator.map(_.name).mkString("<br/>")+"</blockquote>Synonyms:<blockquote>"+part.synonyms.mkString("<br/>")+"</blockquote>"}>{entity.name}</span>
  case None => <span class="title-string" rel="popover" title={part.text} data-content={part.synonyms.mkString("<br/>")}>{part.lemma}</span>
}).mkString(title.connector))
